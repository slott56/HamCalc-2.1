<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>sunup – Sunrise, Sunset, Transit &mdash; HamCalc 2.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="HamCalc 2.1 documentation" href="../../index.html" />
    <link rel="up" title="navigation – Navigation and Astronomy" href="index.html" />
    <link rel="next" title="moontrac – Moon Tracker" href="moontrac.html" />
    <link rel="prev" title="latlong – Latitude/Longitude Data Base" href="latlong.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="../../index.html">HamCalc 2.1 documentation</a></div>
        <div class="rel">
          <a href="latlong.html" title="latlong – Latitude/Longitude Data Base"
             accesskey="P">previous</a> |
          <a href="moontrac.html" title="moontrac – Moon Tracker"
             accesskey="N">next</a> |
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="sunup-sunrise-sunset-transit">
<span id="navigation-sunup"></span><h1>sunup &#8211; Sunrise, Sunset, Transit<a class="headerlink" href="#sunup-sunrise-sunset-transit" title="Permalink to this headline">¶</a></h1>
<p>This shares a lot of code with <strong class="program">seasons</strong>.</p>
<p>This may have a lot to do with <strong class="program">riseset</strong>, also.</p>
<div class="section" id="analysis">
<h2>Analysis<a class="headerlink" href="#analysis" title="Permalink to this headline">¶</a></h2>
<p>Compute a number of sunrise-sunset values.</p>
<p>Here&#8217;s an attempt at a step-by-step overview.</p>
<p><strong>250-370</strong>.  Get Lat, Lon, and time zone.</p>
<p><strong>380-370</strong>. Some offsets are computed.</p>
<ul>
<li><p class="first">SX = 60 (AST), to 120 (PST).
Longitude is used as an estimator of SX for non-US timezones.</p>
<div class="math">
<p><img src="../../_images/math/a169c260670492f940041e8f1b718c1ec952a63e.png" alt="SX = 15 \lfloor LO/15 \rfloor"/></p>
</div></li>
<li><p class="first">MX, Deg. correction for std. meridian. <img class="math" src="../../_images/math/c9be10d2b00a5dd3b33f5c2b14daf3fead87a04b.png" alt="MX = LO-SX"/>.
Longitude minus time zone longitude.</p>
</li>
<li><p class="first">MC, Hrs. correction for std. meridian. <img class="math" src="../../_images/math/cee1461cfbb9e2e35851e694f44becd68d95cac7.png" alt="MC = MX/15"/>.
15° = 1 hr.</p>
</li>
<li><p class="first">MR, Rad equiv. of meridian correction. <img class="math" src="../../_images/math/e41f1612896078fa4d5c3a7c3d8a0277d9f42fbe.png" alt="MR = MX \times \pi/180"/></p>
</li>
<li><p class="first">K, Days to degrees. <img class="math" src="../../_images/math/4a8a85d37d0e25c7981eca29d9e0ea4a99dd122c.png" alt="360/365.2423"/> or <img class="math" src="../../_images/math/ec05f7995aba2e77f9cdaaf7711a07071d3e1089.png" alt="360/366"/>.
Neither of which are exactly correct. 365.2423 is mean solar year
including leap and non-leap. It&#8217;s either <img class="math" src="../../_images/math/4a8a85d37d0e25c7981eca29d9e0ea4a99dd122c.png" alt="360/365.2423"/> across
the board, or it&#8217;s <img class="math" src="../../_images/math/762f54798e6e7c4700f1cecd9f1cf96d55bb2e75.png" alt="360/365"/> for non-leap and <img class="math" src="../../_images/math/ec05f7995aba2e77f9cdaaf7711a07071d3e1089.png" alt="360/366"/>
for leap.</p>
</li>
</ul>
<p><strong>480-670</strong>. A start date, end date, and increment in days is input, also.</p>
<p><strong>680-790</strong>.  Screen formatting.</p>
<p><strong>800-810</strong>. For a date, N, in the date range, compute the following:</p>
<p><strong>820</strong>.  GOSUB 1320 to compute &#8220;long.of GP SUN &amp; EQ TIME&#8221;.</p>
<dl class="docutils">
<dt><strong>1320-1440</strong>.  This is a particularly complex (but accurate) Position of the Sun</dt>
<dd><p class="first">calculation. There are more simpler versions of this
that are reasonably accurate.</p>
<p>HamCalc Version</p>
<p><strong>1330</strong>.   NN is day of year.</p>
<p><strong>1340</strong>.   <img class="math" src="../../_images/math/f86898c5111c97f6f9e28aafab3c587fef3c5dc2.png" alt="L_1 = (279.575012 + K \times NN) \times \pi/180"/></p>
<p><strong>1350</strong>.   <img class="math" src="../../_images/math/b2e6bc226e0c04439fe2c050c055ba1b7d278bef.png" alt="G_1 = (356.96701 + K \times NN) \times \pi/180"/></p>
<p><strong>1360</strong>.   <img class="math" src="../../_images/math/bc5ffa58fdb507759cb35a28f2bae34613b78529.png" alt="L_D = L_1+(1.916 \sin(G_1)+0.02 \sin(2 G_1)) \times \pi/180"/></p>
<p>Wikipedia &#8220;Position of Sun&#8221; Version.</p>
<ul class="simple">
<li><em>n</em> is days since 1 Jan 2000. <img class="math" src="../../_images/math/1761f589875f882d8c14a70cc392d8cd58605637.png" alt="n = JD - 2451545.0"/>.</li>
<li>Mean Longitude of the Sun. <img class="math" src="../../_images/math/dc9db091e1eb252736a7ab652f6f5f79c3c8c817.png" alt="L = 280.460 + 0.9856474 n"/>.</li>
<li>Mean anomaly of the Sun. <img class="math" src="../../_images/math/cabf73ddebb09b8d1fff37bc2e211d34e92eb33c.png" alt="g = 357.528 + 0.9856003 n"/>.</li>
<li>Ecliptic Longitude. <img class="math" src="../../_images/math/bc644e6cfca4cebeb9d3f81cce7b47555399b177.png" alt="\lambda = L + 1.915 \sin g + 0.020 \sin 2g"/>.
Convert to radians via <img class="math" src="../../_images/math/918f256e0792e4563f861373a7581283588cc0d6.png" alt="\lambda \pi/180"/>.</li>
</ul>
<p>HamCalc calculation of Z and EL.</p>
<p><strong>1370</strong>.   <img class="math" src="../../_images/math/40ca8285845109990cf57f35b60bc33753335247.png" alt="D_L = 0.39782 \sin(L_D)"/>. <img class="math" src="../../_images/math/ce1a04279f94781ea972b7de208222d1ba3814f0.png" alt="0.39778850739794974 = sin(23.44^{\circ})"/>. Declination of Sun.</p>
<p><strong>1380</strong>.   <img class="math" src="../../_images/math/6e4f3e2280bf7edf22cc9fdc0da1d3e3f5229f6c.png" alt="Z = \arctan { \frac{D_L}{\sqrt{1-D_L^2}} }"/>.  This is an output. Equatorial Latitude of the sun, perhaps?</p>
<p>Note the trig identity for arcsine <img class="math" src="../../_images/math/087d0676fa1ae415933c99c5587d50aa1c7c20e9.png" alt="\arcsin X = \arctan \frac{X}{\sqrt{1-X^2}}"/>.</p>
<dl class="docutils">
<dt><strong>1390-1400</strong>. This may be the Equation of Time to provide an offset</dt>
<dd><p class="first">between due south for local apparent noon and actual position.</p>
<div class="math">
<p><img src="../../_images/math/9e88a4823cbd287f11b82cdda96558a0451b3634.png" alt="e = -104.7 \sin( L_1 ) + 596.2 \sin( 2 L_1 ) + 4.3 \sin( 3 L_1 ) - 12.7

EL= e \sin(4 L_1)-429.3 \cos (L_1)-2 \cos (2 L_1)+19.2 \cos(3 L_1)"/></p>
</div><p class="last">This is an output.  It&#8217;s the time of transit, perhaps.</p>
</dd>
</dl>
<p><strong>1410</strong>.   <img class="math" src="../../_images/math/3ce52626b5db40cce191b84efc1e8d48319b10a8.png" alt="ET=-EL/3600"/> &#8211; Time (hours specifically)</p>
<p><strong>1420</strong>.   <img class="math" src="../../_images/math/392df682d5601898ca0fdaeb27855d1be882b80b.png" alt="ED= 15 ET"/> &#8211; Degrees (15° = 1 hr.)</p>
<p class="last"><strong>1430</strong>.   <img class="math" src="../../_images/math/d5c2ef93cd2ffed8dccadba9075677ed4d208efd.png" alt="ER=ED \times \pi/180"/> &#8211; Radians</p>
</dd>
</dl>
<p><strong>830-850</strong>. Calculate Azimuth, <tt class="docutils literal"><span class="pre">T</span></tt>, of noon sun.</p>
<blockquote>
<div><ul class="simple">
<li>If LA (Latitude in radians) &lt; Z:  Sun is N of observer.
<img class="math" src="../../_images/math/747e9158c766185e7d493956e3ec82fecf8c0915.png" alt="T = ED-MG+MX+0.5"/>.  Degrees - 0 + MX Correction + .5.
<tt class="docutils literal"><span class="pre">MG</span></tt> defaults to zero.</li>
<li>IF LA (Latitude in radians) &gt;= Z: Sun is S of observer.
<img class="math" src="../../_images/math/77ef711ce1af2b1ae3b5a312ab069b0cd319c786.png" alt="T = 180-ED-MG-MX-0.5"/>.  Degrees - 0 + MX Correction + .5.
<tt class="docutils literal"><span class="pre">MG</span></tt> defaults to zero.</li>
<li>Compute T mod 360.</li>
</ul>
</div></blockquote>
<p><strong>860-950</strong>.  Calculate Azimuth of sunrise, AZ.</p>
<p><strong>960-1050</strong>.  Sunrise Time, R and string RT$.</p>
<p><strong>1060-1150</strong>.  Sunset Time, S and string ST$.</p>
<p><strong>1160</strong>.  Calculate Altitude, <tt class="docutils literal"><span class="pre">AL</span></tt>, of noon sun.</p>
<blockquote>
<div><ul class="simple">
<li>IF LA &lt; Z: AL=FIX(90-(Z-LA)*RD-0.5!)</li>
<li>IF LA &gt;= Z: AL=(90-(LA-Z)*RD-0.5!)</li>
</ul>
<p>RD is <img class="math" src="../../_images/math/e7462413e6ca6f9ab3f56d482684af272bce08ed.png" alt="180/\pi"/>, the radian to degree conversion.</p>
</div></blockquote>
<p><strong>1170</strong>.  Gosub 1460 to print date.</p>
<p><strong>1180-1190</strong>.  RISE is sunrise azimuth, AZ.  SET is sunset azimuth, 360-RISE.</p>
<p><strong>1200-1270</strong>.  Print various times.  S-R is hours of daylight.</p>
</div>
<div class="section" id="alternative-sunrise-and-sunset">
<h2>Alternative Sunrise and Sunset<a class="headerlink" href="#alternative-sunrise-and-sunset" title="Permalink to this headline">¶</a></h2>
<p>See &#8220;Sunrise Equation&#8221; in Wikipedia.</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Sunrise_equation">http://en.wikipedia.org/wiki/Sunrise_equation</a></p>
<div class="math">
<p><img src="../../_images/math/027c6c42ac8994ac39b5d081dacd93dd46aa6f14.png" alt="\cos \omega_0 = - \tan \phi \times \tan \delta"/></p>
</div><p>Where <img class="math" src="../../_images/math/e8c615c0bcf030a0d2bfe9cd1ceacf491ba4ccbf.png" alt="\omega_0"/> is hour angle at sunrise (or sunset), <img class="math" src="../../_images/math/2c175f60eecef1de7560c3bdea495d69f26f719d.png" alt="\phi"/> is the latitude and <img class="math" src="../../_images/math/0a42a8b725c200085e5253db2d2fbf8dab898a8f.png" alt="\delta"/> is the sun&#8217;s declination.</p>
<p>The procedure is this.  It depends on <img class="math" src="../../_images/math/1715771589ceda479e7a5fc046e36f3a417a345a.png" alt="l_w"/> is Longitude (west is positive) of the observer, which is reversed from many calculations where
East is positive.</p>
<p><strong>Calculate current Julian Cycle</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/ee11a2e4b927423bcb565bcb0a6b21e25b984913.png" alt="n^{*} = J_{date} - 2451545.0009 - \frac{l_w}{360 ^{\circ}}

n = \lfloor n^{*} + \frac{1}{2} \rfloor"/></p>
</div><p>Where <img class="math" src="../../_images/math/316b65d2975e83a644859d468555234f7b084413.png" alt="J_{date}"/> is the Julian date, <img class="math" src="../../_images/math/1715771589ceda479e7a5fc046e36f3a417a345a.png" alt="l_w"/> is Longitude (west is positive) of the observer.  <em>n</em> is Julian Cycle since Jan 1, 2000.</p>
<p>Note that &#8220;west-is-positive&#8221; is backwards from many other calculations.</p>
<p>Below, longitude is <img class="math" src="../../_images/math/677c31220b5ec055dbf442826f556f0ecffbda1d.png" alt="\lambda_o"/>.</p>
</div></blockquote>
<p><strong>Approximate Solar Noon</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/4e635858cc8ef4b47a87ae4476d132fe12bbfe27.png" alt="J^{*} = 2451545.0009 + \frac{l_w}{360^{\circ}} + n"/></p>
</div><p>Where <img class="math" src="../../_images/math/0ba5a837e74951e5ba478bfb475ca5eea8165785.png" alt="J^{*}"/> is an approximation of solar noon at <img class="math" src="../../_images/math/1715771589ceda479e7a5fc046e36f3a417a345a.png" alt="l_w"/>.</p>
</div></blockquote>
<p><strong>Solar Mean Anomaly</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/58edd54e9050f714b665e966044cdae54143126a.png" alt="M =  [ 357.5291 + 0.98560028 \times ( J^{*} - 2451545)] \mod 360"/></p>
</div></div></blockquote>
<p><strong>Equation of Center</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/1a534f9a5721149edda348ff537836fe735b7ac1.png" alt="C = 1.9148 \sin M + 0.0200 \sin 2M + 0.0003 \sin 3M"/></p>
</div></div></blockquote>
<p><strong>Ecliptic Longitude</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/a17ee0d08156652730fa81fc55ad3da0eeb53cc6.png" alt="\lambda = ( M + 102.9372 + C + 180 ) \mod 360"/></p>
</div></div></blockquote>
<p><strong>Solar Transit</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/3f80da3d851641815511df58dcbf499394d3fb59.png" alt="J_{transit} = J^{*} + 0.0053 \sin M - 0.0069 \sin 2\lambda"/></p>
</div><p>The Hour Angle for Solar Noon.</p>
</div></blockquote>
<p><strong>Declination of the Sun</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/ca96a1c6de853261f2d44de7288a1468992ed903.png" alt="\sin \delta = \sin \lambda \times \sin 23.45 ^{\circ}

\sin 23.45^{\circ} = 0.3979486313076104"/></p>
</div><p>Solve for <img class="math" src="../../_images/math/0a42a8b725c200085e5253db2d2fbf8dab898a8f.png" alt="\delta"/> to get declination of the sun.</p>
</div></blockquote>
<p><strong>Hour Angle</strong></p>
<blockquote>
<div><p>This includes corrections for refraction and solar disk diameter.</p>
<div class="math">
<p><img src="../../_images/math/6c3a4af9ba83c5bfa0f38582c391f36fc7d7148b.png" alt="\cos \omega_0 = \frac{ \sin(-0.83^{\circ}+d) - \sin \phi_o \times \sin \delta }{\cos \phi_o \times \cos \delta}

\sin -0.83^{\circ} = -0.014485726138606464"/></p>
</div><p>To correct for height of eye above the horizon, we apply the dip angle.</p>
<div class="math">
<p><img src="../../_images/math/5119ce3ef7e2b5fb9b0a52d35f93a466f3521719.png" alt="d &amp;= \frac{-1.15^{\circ}\sqrt{h_f}}{60^{\circ}} \\
d &amp;= \frac{-2.076^{\circ}\sqrt{h_m}}{60^{\circ}}"/></p>
</div><p>For height in feet, <img class="math" src="../../_images/math/60745368290d50f53437cd4ec6efb38f3a6726da.png" alt="h_f"/>, or height in meters, <img class="math" src="../../_images/math/93dbabcbfa66e1fab8cae940752c394a0d98af6e.png" alt="h_m"/>.
Assuming 10&#8217; above the horizon, this is -0.0606.</p>
<p>Note that for celestial navigation sight reductions, this is
computed as a positive number and subtracted from the observed height.</p>
<p>Where <img class="math" src="../../_images/math/092305802f8a8cd4debabfc2539af7037867123f.png" alt="\phi_o"/> is the latitude of the observer, north is positive.</p>
<p>Solve for <img class="math" src="../../_images/math/e8c615c0bcf030a0d2bfe9cd1ceacf491ba4ccbf.png" alt="\omega_0"/> to get the hour angle.</p>
</div></blockquote>
<p><strong>Sunset</strong></p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/695a75ec9ecfd3e0b358b091307b80bbe95224e7.png" alt="J_{set} &amp;= 2451545.0009 + \frac{\omega_0+l_w}{360^{\circ}} + n + 0.0053 \sin M - 0.0069 \sin 2\lambda \\
J_{rise} &amp;= J_{transit} - ( J_{set} - J_{transit} )"/></p>
</div></div></blockquote>
</div>
<div class="section" id="notes-on-azimuth-and-elevation">
<h2>Notes on Azimuth and Elevation<a class="headerlink" href="#notes-on-azimuth-and-elevation" title="Permalink to this headline">¶</a></h2>
<p>See &#8220;Position of the Sun&#8221;.</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Position_of_the_Sun">http://en.wikipedia.org/wiki/Position_of_the_Sun</a></p>
<p>To get the azimuth and elevation, we need to do a three-step operation.</p>
<ol class="arabic">
<li><p class="first">Calculate coordinates in Ecliptic Coordinates.</p>
<p>This is essentially <img class="math" src="../../_images/math/ce4588fd900d02afcbd260bc07f54cce49a7dc4a.png" alt="\lambda"/> above. The latitude, <img class="math" src="../../_images/math/31406b02b23c202946d58416b6a9d01fa11d8d04.png" alt="\beta = 0"/> for all practical purposes.</p>
<p>However, the above calculation has longitude sense reversed.</p>
</li>
<li><p class="first">Convert to Equatorial: Right Ascension, <img class="math" src="../../_images/math/10f32377ac67d94f764f12a15ea987e88c85d3e1.png" alt="\alpha"/>, and Declination, <img class="math" src="../../_images/math/0a42a8b725c200085e5253db2d2fbf8dab898a8f.png" alt="\delta"/>.</p>
<div class="math">
<p><img src="../../_images/math/98a1d9f91aad07d71958b3ce6bcf55041644c075.png" alt="\epsilon &amp;= 23.439^{\circ} - 0.0000004^{\circ} \times n \\
\alpha &amp;= \arctan (\cos \epsilon \tan \lambda) \\
\delta &amp;= \arcsin (\sin \epsilon \sin \lambda)"/></p>
</div></li>
<li><p class="first">Convert to Observer&#8217;s Horizontal Coordinates to determine where to look in the sky. Specifically, the altitude, <em>a</em>, is</p>
<div class="math">
<p><img src="../../_images/math/072566350a577a8a8354f8be78d658238fd93538.png" alt="\sin a = \sin \phi_o \sin \delta + \cos \phi_o \cos \delta \cos \omega_0"/></p>
</div><p>Where <img class="math" src="../../_images/math/092305802f8a8cd4debabfc2539af7037867123f.png" alt="\phi_o"/> is observer&#8217;s latitude, <img class="math" src="../../_images/math/0a42a8b725c200085e5253db2d2fbf8dab898a8f.png" alt="\delta"/> is declination,
and <img class="math" src="../../_images/math/e8c615c0bcf030a0d2bfe9cd1ceacf491ba4ccbf.png" alt="\omega_0"/> is the Hour Angle.</p>
<p>The Azimuth, <em>A</em>, is</p>
<div class="math">
<p><img src="../../_images/math/281a34915e6b375b740538cb81472d74693b4c1a.png" alt="\tan A = \frac{\sin \omega_0}{\cos \omega_0 \sin \phi_o - \tan \delta \cos \phi_o }"/></p>
</div></li>
</ol>
</div>
<div class="section" id="the-noaa-model">
<h2>The NOAA Model<a class="headerlink" href="#the-noaa-model" title="Permalink to this headline">¶</a></h2>
<p>See the NOAA Solar Calculation.</p>
<p><a class="reference external" href="http://www.esrl.noaa.gov/gmd/grad/solcalc/calcdetails.html">http://www.esrl.noaa.gov/gmd/grad/solcalc/calcdetails.html</a></p>
<p>Also, see <a class="reference external" href="http://www.esrl.noaa.gov/gmd/grad/solcalc/glossary.html">http://www.esrl.noaa.gov/gmd/grad/solcalc/glossary.html</a></p>
<p>There are four inputs:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">phi_o:</th><td class="field-body">Latitude of observer in degrees.</td>
</tr>
<tr class="field-even field"><th class="field-name">lambda_o:</th><td class="field-body">Longitude of the observer in degrees.</td>
</tr>
<tr class="field-odd field"><th class="field-name">z_o:</th><td class="field-body">GMT offset of the observer in hours.</td>
</tr>
<tr class="field-even field"><th class="field-name">date:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> for which the sun&#8217;s position is requested</td>
</tr>
</tbody>
</table>
<p>The calculation works like this:</p>
<p><strong>F</strong>.  Julian Day for requested date + time.</p>
<p><strong>G</strong>.  Julian Century. <img class="math" src="../../_images/math/9e73ae7d3c4a725cdb0c9a23f6cfa84e6a7bc937.png" alt="(F-2451545)/36525"/></p>
<p><strong>I</strong>.  Geom Mean Long Sun (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/4baf2c3330c7ed7588d49a2c77573b8da25530cb.png" alt="[280.46646+G(36000.76983+0.0003032 G)] \mod 360"/></p>
</div></div></blockquote>
<p><strong>J</strong>.  Geom Mean Anom Sun (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/b5814f0a63b79cda7c27df40f661b4a18355cd92.png" alt="357.52911+G(35999.05029-0.0001537 G)"/></p>
</div></div></blockquote>
<p><strong>K</strong>.  Eccent Earth Orbit.</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/5464aafad698842d3f5b52b8107f60bca2d5cab2.png" alt="0.016708634-G(0.000042037+0.0000001267 G)"/></p>
</div></div></blockquote>
<p><strong>L</strong>.  Sun Eq of Ctr.</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/67b7f27c4a765e4e0af1c4846f3ca06ffccaa4e8.png" alt="&amp;\sin J \times (1.914602-G(0.004817+0.000014 G))
\\ + &amp;\sin 2J \times (0.019993-0.000101 G)\\
+ &amp;\sin 3J \times 0.000289"/></p>
</div></div></blockquote>
<p><strong>M</strong>.  Sun True Long (deg). <img class="math" src="../../_images/math/fbfa4d1eb7ad3b94ab8648062cf2eb3b691a078f.png" alt="I + L"/></p>
<p><strong>N</strong>.  Sun True Anom (deg). <img class="math" src="../../_images/math/181eedc1c66ee9912c08f22b06588cc980f97d74.png" alt="J + L"/></p>
<p><strong>O</strong>.  Sun Rad Vector (AUs).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/d72ba012e3e5484ba79eeb728a758bb9fe186d3b.png" alt="\dfrac{1.000001018(1-K^2)}{1+K \cos N}"/></p>
</div></div></blockquote>
<p><strong>P</strong>.  Sun App Long (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/3a060463359b091b78473d6aa20134d3ce4aa5bd.png" alt="M-0.00569-0.00478 \sin (125.04-1934.136 G)"/></p>
</div></div></blockquote>
<p><strong>Q</strong>.  Mean Obliq Ecliptic (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/00cdb2993ab69af3e81394af3125992505449691.png" alt="23+\dfrac{26+\dfrac{21.448-G(46.815+G(0.00059-G0.001813))}{60}}{60}"/></p>
</div></div></blockquote>
<p><strong>R</strong>.  Obliq Corr (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/d61e1d532fbd6339684651ac3113e5301ea02e12.png" alt="Q+0.00256 \cos (125.04-1934.136 G)"/></p>
</div></div></blockquote>
<p><strong>S</strong>.  Sun Rt Ascen (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/87ace4fe0a9446b188338b2ae596027698c43af3.png" alt="\arctan \frac{\cos R \sin P}{\cos P}"/></p>
</div></div></blockquote>
<p><strong>T</strong>.  Sun Declin (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/122ae57db77a823cecce9f5be40defca4c4505a7.png" alt="\arcsin (\sin R \sin P)"/></p>
</div></div></blockquote>
<p><strong>U</strong>.  var y. <img class="math" src="../../_images/math/2724f82b7b42317a3d1fbd46c291341156b90505.png" alt="\tan^2 \frac{R}{2} = (\tan R/2)^2"/></p>
<p><strong>V</strong>.  Eq of Time (minutes).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/900544d70dda5ba25ffe52dd9d3a4f04819152c2.png" alt="4(U \sin 2I - 2K\sin J + 4KU \sin J \cos 2I - 0.5 U^2 \sin 4I - 1.25 K^2\sin 2J)"/></p>
</div></div></blockquote>
<p><strong>W</strong>.  HA Sunrise (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/36d17231f4a23e943b30eb963bdf058a9b102844.png" alt="\arccos \left(\frac{\cos 90.833^{\circ}}{\cos \phi_o \cos T} - \tan \phi_o \tan T \right)"/></p>
</div><p>Latitude of observer is <img class="math" src="../../_images/math/092305802f8a8cd4debabfc2539af7037867123f.png" alt="\phi_o"/>.</p>
<p>Alternate form? This is used in the hour angle above, as well
as the Stargazing version below, as well as the legacy HamCalc.</p>
<div class="math">
<p><img src="../../_images/math/99cbc8879e6a4cddd95fb6214e4fd714ca443029.png" alt="\delta = T

\arccos \left(\frac{\sin -0.833^{\circ} - \sin \phi_o \sin \delta}{\cos \phi_o \cos \delta }\right)"/></p>
</div></div></blockquote>
<p><strong>X</strong>.  Solar Noon (LST).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/7233d087f2d95c6343b83fabc5efe05d66264f94.png" alt="\frac{720 - 4 \lambda_o - V + 60 z_o}{1440}"/></p>
</div><p>Longitude of the observer is <img class="math" src="../../_images/math/677c31220b5ec055dbf442826f556f0ecffbda1d.png" alt="\lambda_o"/>.
Timezone offset from UTC is <img class="math" src="../../_images/math/69af26d8f492ae7ac02c3a03057637b9c20371a3.png" alt="z_o"/>.</p>
</div></blockquote>
<p><strong>Y</strong>.  Sunrise Time (LST). <img class="math" src="../../_images/math/b7a077e58314e2a53742ae33a7c9b05788d295df.png" alt="X-\dfrac{4W}{1440}"/></p>
<p><strong>Z</strong>.  Sunset Time (LST). <img class="math" src="../../_images/math/e4b6c45668ae2cb0d9820df63879c9adfe15808c.png" alt="X+\dfrac{4W}{1440}"/></p>
<p><strong>AA</strong>. Sunlight Duration (minutes). <img class="math" src="../../_images/math/930487d05fa6b6dba456aca88a56e7997d388982.png" alt="8W"/></p>
<p><strong>AB</strong>. True Solar Time (min).</p>
<blockquote>
<div><p><img class="math" src="../../_images/math/edd7dba11d5227be8efee897b69e75e46ea05024.png" alt="(1440 E + V + 4 \lambda_o - 60 z_o) \mod 1440"/></p>
<p>Where <img class="math" src="../../_images/math/69af26d8f492ae7ac02c3a03057637b9c20371a3.png" alt="z_o"/> is the timezone offset of the observer.
In hours. <img class="math" src="../../_images/math/fa2fa899f0afb05d6837885523503a2d4df434f9.png" alt="E"/> is hours past midnight.</p>
</div></blockquote>
<p><strong>AC</strong>. Hour Angle (deg).</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/a34f95f43e164b1cc02d6cbe0159e81011dd5883.png" alt="\begin{cases}
\dfrac{AB}{4}+180&amp;  \text{if $\frac{AB}{4} &lt; 0$}, \\
\dfrac{AB}{4}-180&amp;  \text{if $\frac{AB}{4} \geq 0$}.
\end{cases}"/></p>
</div></div></blockquote>
<p><strong>AD</strong>. Solar Zenith Angle (deg).</p>
<blockquote>
<div><img class="math" src="../../_images/math/26bb1229a6ea9b3b09aff0fafce4ecbbdfbebb2d.png" alt="\arccos (\sin \phi_o \sin T + \cos \phi_o \cos T \cos AC)"/></div></blockquote>
<p><strong>AE</strong>. Solar Elevation Angle (deg). <img class="math" src="../../_images/math/3f3776afcc05f86a6c8f3aa39956cff3a59a836a.png" alt="90-AD"/></p>
<p><strong>AF</strong>. Approx Atmospheric Refraction (deg)</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/6a5c8a6581edf1a2b92aad9ac3bd16f49fc40395.png" alt="\frac{1}{3600} \times
\begin{cases}
0&amp; \text{if $AE &gt; 85$} \\
\dfrac{58.1}{\tan AE} - \dfrac{0.07}{(\tan AE)^3} + \dfrac{0.000086}{(\tan AE)^5}&amp; \text{if $5 &lt; AE \leq 85$} \\
1735 + AE(-518.2+AE(103.4+AE(-12.79+0.711AE)))&amp; \text{if $-0.575 &lt; AE \leq 5$} \\
\dfrac{-20.772}{\tan AE}&amp; \text{if $AE &lt; -0.575$}
\end{cases}"/></p>
</div></div></blockquote>
<p><strong>AG</strong>. Solar Elevation corrected for atm refraction (deg). <img class="math" src="../../_images/math/68d5f508c381070bd26d29a7bfd89ef21761d6ee.png" alt="AE+AF"/>.</p>
<p><strong>AH</strong>. Solar Azimuth Angle (deg cw from N)</p>
<blockquote>
<div><div class="math">
<p><img src="../../_images/math/87808f7f14cf3c07f3a9ca5d67e6827a8f8f3185.png" alt="\begin{cases}
\arccos \left(\dfrac{\sin \phi_o \cos AD-\sin T}{\cos \phi_o \sin AD}\right) + 180  \mod 360 &amp; \text{if $AC &gt; 0$},\\
\left[540 - \arccos \left(\dfrac{\sin \phi_o \cos AD - \sin T}{\cos \phi_o \sin AD}\right) \right] \mod 360&amp; \text{otherwise}
\end{cases}"/></p>
</div></div></blockquote>
</div>
<div class="section" id="the-stargazing-model">
<h2>The Stargazing Model<a class="headerlink" href="#the-stargazing-model" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://www.stargazing.net/kepler/sunrise.html">http://www.stargazing.net/kepler/sunrise.html</a></p>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>Yes. The name of the calculation module differs from the legacy applications,
<strong class="program">sunup</strong>, <strong class="program">seasons</strong> and <strong class="program">riseset</strong>.</p>
<p>This computes more than sunrise, and includes timezones for local time
conversion.</p>
<div class="section" id="module-hamcalc.navigation.solar">
<span id="solar"></span><h3>solar<a class="headerlink" href="#module-hamcalc.navigation.solar" title="Permalink to this headline">¶</a></h3>
<p>hamcalc.navigation.solar &#8211; Sunrise, Transit and Sunset.</p>
<p>See &#8220;Sunrise Equation&#8221; in Wikipedia. <a class="reference external" href="http://en.wikipedia.org/wiki/Sunrise_equation">http://en.wikipedia.org/wiki/Sunrise_equation</a></p>
<p>This is the calculation of the Julian Astronomical Dates
of the transit, rise and set of the sun at a given latitude
and longitude near a given date.</p>
<div class="section" id="julian-astronomical-dates">
<h4>Julian Astronomical Dates<a class="headerlink" href="#julian-astronomical-dates" title="Permalink to this headline">¶</a></h4>
<p>Julian astronomical day calculations from Dershowitz and Reingold.
This is Herschel and Scaliger julian astronomical day calendar.</p>
<p>See <a class="reference external" href="http://en.wikipedia.org/wiki/Julian_day">http://en.wikipedia.org/wiki/Julian_day</a></p>
<p>See Dershowitz, Nachum and Edward M. Reingold.  <em>Calendrical Calculations</em>. Cambridge University Press. 1997.</p>
<p><a class="reference external" href="http://emr.cs.uiuc.edu/home/reingold/calendar-book/index.html">http://emr.cs.uiuc.edu/home/reingold/calendar-book/index.html</a></p>
<p>Python&#8217;s <tt class="xref py py-mod docutils literal"><span class="pre">datetime</span></tt> module uses The Reingold-Dershowitz <em>rata die</em>
system.</p>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Rata_Die">http://en.wikipedia.org/wiki/Rata_Die</a></p>
<p>The conversion to Julian Astronomical Dates is <tt class="docutils literal"><span class="pre">-1721424.5</span></tt>,
the <tt class="xref py py-data docutils literal"><span class="pre">JAD_epoch</span></tt> defined in this module.</p>
</div>
<div class="section" id="local-time-and-north-american-timezones">
<h4>Local Time and North American TimeZones<a class="headerlink" href="#local-time-and-north-american-timezones" title="Permalink to this headline">¶</a></h4>
<p>The sunrise and sunset times are in UTC.  Localtime offsets need to be applied,
based on local knowledge of timezones and Daylight Savings Time
to get to proper local times.</p>
<p>For this, timezones are imported from the
<a class="reference internal" href="#module-hamcalc.navigation.solar.timezone" title="hamcalc.navigation.solar.timezone"><tt class="xref py py-mod docutils literal"><span class="pre">hamcalc.navigation.solar.timezone</span></tt></a> module.</p>
<p>It&#8217;s quite easy to add timezones to cover other historical periods or
other places on earth.</p>
</div>
<div class="section" id="solar-position-test-cases">
<h4>Solar Position Test Cases<a class="headerlink" href="#solar-position-test-cases" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">hamcalc.navigation.solar</span> <span class="kn">as</span> <span class="nn">solar</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">today</span><span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span> <span class="mi">2013</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">solar</span><span class="o">.</span><span class="n">Eastern</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rise</span><span class="p">,</span> <span class="n">transit</span><span class="p">,</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">solar</span><span class="o">.</span><span class="n">rise_transit_set</span><span class="p">(</span> <span class="mf">38.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">76.47</span><span class="p">,</span> <span class="n">today</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rise</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2013-05-13T05:55:00.457654-04:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">transit</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2013-05-13T13:02:13.475578-04:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2013-05-13T20:09:26.493502-04:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rise</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">Eastern</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2013-05-13T05:55:00.457654-04:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">Eastern</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2013-05-13T20:09:26.493502-04:00&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solar</span><span class="o">.</span><span class="n">azimuth_elevation</span><span class="p">(</span> <span class="mf">38.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">76.47</span><span class="p">,</span> <span class="n">transit</span> <span class="p">)</span>
<span class="go">(179.99635135849053, 69.56582340941506)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solar</span><span class="o">.</span><span class="n">azimuth_elevation</span><span class="p">(</span> <span class="mf">38.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">76.47</span><span class="p">,</span> <span class="n">rise</span> <span class="p">)</span>
<span class="go">(65.23706511941509, -0.7937072477381264)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solar</span><span class="o">.</span><span class="n">azimuth_elevation</span><span class="p">(</span> <span class="mf">38.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">76.47</span><span class="p">,</span> <span class="nb">set</span> <span class="p">)</span>
<span class="go">(294.86842169825667, -0.6953559721037266)</span>
</pre></div>
</div>
<p>From other apps and web sites:</p>
<blockquote>
<div><p>At 13:00, Azimuth is 178.4, Elevation is 69.6</p>
<p>Sunrise azimuth is 65.06, when measured from N.</p>
<p>Sunset azimuth is 294.62, when measured from N.</p>
<p>The center is 179.84 when measured from N (-0.16 from S).</p>
</div></blockquote>
<p>Other Horizons; e.g., Nautical Twilight or Astronomical Twilight.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">rise</span><span class="p">,</span> <span class="n">transit</span><span class="p">,</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">solar</span><span class="o">.</span><span class="n">rise_transit_set</span><span class="p">(</span> <span class="mf">38.98</span><span class="p">,</span> <span class="o">-</span><span class="mf">76.47</span><span class="p">,</span> <span class="n">today</span><span class="p">,</span> <span class="n">horizon</span><span class="o">=</span><span class="mi">90</span><span class="o">+</span><span class="mi">12</span> <span class="p">)</span> <span class="c"># Nautical</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rise</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2013-05-13T04:48:24.304646-04:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">set</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2013-05-13T21:16:02.646510-04:00&#39;</span>
</pre></div>
</div>
<p>From the USNO web page, the following two official times are given
for nautical twilight on May 13, 2013: 03:48 20:17</p>
</div>
<div class="section" id="calculation-details">
<h4>Calculation Details<a class="headerlink" href="#calculation-details" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.esrl.noaa.gov/gmd/grad/solcalc/calcdetails.html">http://www.esrl.noaa.gov/gmd/grad/solcalc/calcdetails.html</a></p>
<p>Inputs:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">phi_o</span><span class="o">=</span><span class="mf">38.98</span> <span class="c"># Latitude</span>
<span class="n">lambda_o</span><span class="o">=-</span><span class="mf">76.47</span> <span class="c"># Longitude</span>
<span class="n">z_o</span><span class="o">=-</span><span class="mi">4</span> <span class="c"># Timezone offset</span>
<span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span> <span class="mi">2013</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Row from the spreadsheet. Columns A through AH (skipping H).</p>
<div class="highlight-python"><pre>D           E       F           G               I       J       K
5/1/2013    0:06:00 2456413.67      0.13329694              39.26   5156.09 0.02

L   M       N       O       P       Q       R       S       T
1.7 40.96   5157.8  1.01    40.96   23.44   23.44   38.54   15.11

U       V       W       X           Y       Z           AA      AB
0.04        2.88    103.76  13:03:00        6:07:57 19:58:03        830.1   1383

AC      AD      AE      AF      AG      AH
165.75      124.29  -34.29  0.01    -34.28  343.29</pre>
</div>
<p>Output from this test case.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">hamcalc.navigation.solar</span> <span class="kn">import</span> <span class="n">Position_Sun</span><span class="p">,</span> <span class="n">Eastern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phi_o</span><span class="o">=</span><span class="mf">38.98</span> <span class="c"># Latitude</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lambda_o</span><span class="o">=-</span><span class="mf">76.47</span> <span class="c"># Longitude</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z_o</span><span class="o">=-</span><span class="mi">4</span> <span class="c"># Timezone offset</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span> <span class="mi">2013</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">Eastern</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">=</span> <span class="n">Position_Sun</span><span class="p">(</span> <span class="n">phi_o</span><span class="p">,</span> <span class="n">lambda_o</span><span class="p">,</span> <span class="n">date</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">E</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="go">0.004167</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">F</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2456413.67</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">G</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
<span class="go">0.13329694</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">I</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">39.26</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">J</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">5156.09</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">K</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.02</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">L</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1.7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">M</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">40.96</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">N</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">5157.8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">O</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">P</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">40.96</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">Q</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">23.44</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">R</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">23.44</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">S</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">38.53</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">T</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">15.11</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">U</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.04</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">V</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2.89</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">W</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">103.76</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">X_hms</span>
<span class="go">&#39;13:02:59.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">Y_hms</span>
<span class="go">&#39;06:07:55.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">Z_hms</span>
<span class="go">&#39;19:58:03.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AA</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">830.1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AB</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1383.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AC</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">165.75</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AD</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">124.29</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AE</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-34.29</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AF</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.01</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AG</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">-34.28</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">AH</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">343.29</span>
</pre></div>
</div>
</div>
<div class="section" id="equation-of-time-test-cases">
<h4>Equation of Time Test Cases<a class="headerlink" href="#equation-of-time-test-cases" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solar</span><span class="o">.</span><span class="n">eot</span><span class="p">(</span> <span class="mi">73</span> <span class="p">)</span>
<span class="go">-9.288136257894735</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solar</span><span class="o">.</span><span class="n">eot</span><span class="p">(</span> <span class="mi">171</span> <span class="p">)</span>
<span class="go">-1.3629763831233621</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solar</span><span class="o">.</span><span class="n">eot</span><span class="p">(</span> <span class="mi">257</span> <span class="p">)</span>
<span class="go">4.438308798331203</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">solar</span><span class="o">.</span><span class="n">eot</span><span class="p">(</span> <span class="mi">354</span> <span class="p">)</span>
<span class="go">2.3235852575988147</span>
</pre></div>
</div>
<p>Compared with HamCalc &#8220;wobble correction factors&#8221;
of 4,8,11 for Jan 1, Jan 10 and Jan 21.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">eot</span><span class="p">(</span> <span class="mi">0</span> <span class="p">))</span>
<span class="go">-3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">eot</span><span class="p">(</span> <span class="mi">9</span> <span class="p">))</span>
<span class="go">-7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">round</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">eot</span><span class="p">(</span> <span class="mi">20</span> <span class="p">))</span>
<span class="go">-11</span>
</pre></div>
</div>
<dl class="class">
<dt id="hamcalc.navigation.solar.Position_Sun">
<em class="property">class </em><tt class="descclassname">hamcalc.navigation.solar.</tt><tt class="descname">Position_Sun</tt><big>(</big><em>phi_o</em>, <em>lambda_o</em>, <em>date_time_tz</em>, <em>horizon=None</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar.html#Position_Sun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.Position_Sun" title="Permalink to this definition">¶</a></dt>
<dd><p>Here&#8217;s the mapping from cryptical spreadsheet names to real names.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">E :</th><td class="field-body">Time (past local midnight)</td>
</tr>
<tr class="field-even field"><th class="field-name">F :</th><td class="field-body">Julian Day</td>
</tr>
<tr class="field-odd field"><th class="field-name">G :</th><td class="field-body">Julian Century</td>
</tr>
<tr class="field-even field"><th class="field-name">I :</th><td class="field-body">Geom Mean Long Sun (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">J :</th><td class="field-body">Geom Mean Anom Sun (deg)</td>
</tr>
<tr class="field-even field"><th class="field-name">K :</th><td class="field-body">Eccent Earth Orbit</td>
</tr>
<tr class="field-odd field"><th class="field-name">L :</th><td class="field-body">Sun Eq of Ctr</td>
</tr>
<tr class="field-even field"><th class="field-name">M :</th><td class="field-body">Sun True Long (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">N :</th><td class="field-body">Sun True Anom (deg)</td>
</tr>
<tr class="field-even field"><th class="field-name">O :</th><td class="field-body">Sun Rad Vector (AUs)</td>
</tr>
<tr class="field-odd field"><th class="field-name">P :</th><td class="field-body">Sun App Long (deg)</td>
</tr>
<tr class="field-even field"><th class="field-name">Q :</th><td class="field-body">Mean Obliq Ecliptic (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">R :</th><td class="field-body">Obliq Corr (deg)</td>
</tr>
<tr class="field-even field"><th class="field-name">S :</th><td class="field-body">Sun Rt Ascen (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">T :</th><td class="field-body">Sun Declin (deg)</td>
</tr>
<tr class="field-even field"><th class="field-name">U :</th><td class="field-body">var y</td>
</tr>
<tr class="field-odd field"><th class="field-name">V :</th><td class="field-body">Eq of Time (minutes)</td>
</tr>
<tr class="field-even field"><th class="field-name">W :</th><td class="field-body">HA Sunrise (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">X :</th><td class="field-body">Solar Noon (LST)</td>
</tr>
<tr class="field-even field"><th class="field-name">Y :</th><td class="field-body">Sunrise Time (LST)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Z :</th><td class="field-body">Sunset Time (LST)</td>
</tr>
<tr class="field-even field"><th class="field-name">Aa :</th><td class="field-body">Sunlight Duration (minutes)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Ab :</th><td class="field-body">True Solar Time (min)</td>
</tr>
<tr class="field-even field"><th class="field-name">Ac :</th><td class="field-body">Hour Angle (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Ad :</th><td class="field-body">Solar Zenith Angle (deg)</td>
</tr>
<tr class="field-even field"><th class="field-name">Ae :</th><td class="field-body">Solar Elevation Angle (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Af :</th><td class="field-body">Approx Atmospheric Refraction (deg)</td>
</tr>
<tr class="field-even field"><th class="field-name">Ag :</th><td class="field-body">Solar Elevation corrected for atm refraction (deg)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Ah :</th><td class="field-body">Solar Azimuth Angle (deg cw from N)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hamcalc.navigation.solar.azimuth_elevation">
<tt class="descclassname">hamcalc.navigation.solar.</tt><tt class="descname">azimuth_elevation</tt><big>(</big><em>lat</em>, <em>lon</em>, <em>date_time</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar.html#azimuth_elevation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.azimuth_elevation" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute azimuth and elevation of the sun at a given point in time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Latitude of observer in degrees.</li>
<li><strong>lon</strong> &#8211; Longitude of the observer in degrees.</li>
<li><strong>date_time_tz</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> for which the sun&#8217;s position is requested.
This must include tzinfo for the observer&#8217;s timezone.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of <tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> objects for rise, noon transit
and set. These are timezone aware and will have the same timezone as
the input datetime.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hamcalc.navigation.solar.datetime_to_jad">
<tt class="descclassname">hamcalc.navigation.solar.</tt><tt class="descname">datetime_to_jad</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar.html#datetime_to_jad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.datetime_to_jad" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a datetime into a Julian Astronomical Date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> object with
date, time and UTC timezone.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">floating point JAD</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hamcalc.navigation.solar.eot">
<tt class="descclassname">hamcalc.navigation.solar.</tt><tt class="descname">eot</tt><big>(</big><em>d</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar.html#eot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.eot" title="Permalink to this definition">¶</a></dt>
<dd><p>An approximation for the Equation of Time.</p>
<p>See <a class="reference external" href="http://en.wikipedia.org/wiki/Equation_of_time">http://en.wikipedia.org/wiki/Equation_of_time</a></p>
<blockquote>
<div>A positive value of the equation of time implies that a sundial is ahead of a clock.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>d</strong> &#8211; Day of the year, zero is  January 1.
Use <tt class="docutils literal"><span class="pre">some_date.toordinal()-some_date.replace(month=1,day=1).toordinal()</span></tt></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Equation of Time offset for this date.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hamcalc.navigation.solar.jad_to_datetime">
<tt class="descclassname">hamcalc.navigation.solar.</tt><tt class="descname">jad_to_datetime</tt><big>(</big><em>jad</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar.html#jad_to_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.jad_to_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Julian Astronomical Date into a datetime
object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>jad</strong> &#8211; floating point JAD.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> object with
date, time and UTC timezone.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hamcalc.navigation.solar.rise_transit_set">
<tt class="descclassname">hamcalc.navigation.solar.</tt><tt class="descname">rise_transit_set</tt><big>(</big><em>lat</em>, <em>lon</em>, <em>date_time_tz</em>, <em>horizon=None</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar.html#rise_transit_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.rise_transit_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute rise time, noon transit time and set time for the sun.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; Latitude of observer in degrees.</li>
<li><strong>lon</strong> &#8211; Longitude of the observer in degrees.</li>
<li><strong>date_time_tz</strong> &#8211; <tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> for which the sun&#8217;s position is requested.
This must include tzinfo for the observer&#8217;s timezone.</li>
<li><strong>horizon</strong> &#8211; The horizon angle from the zenith. Default is 90.833.
Other values can be used.
-   Astronomical: 108°; 18° below horizon
-   Nautical: 102°; 12° below horizon
-   Civil: 96°; 6° below horizon</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tuple of <tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt> objects for rise, noon transit
and set. These are timezone aware and will have the same timezone as
the input datetime.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-hamcalc.navigation.solar.timezone">
<span id="solar-timezone"></span><h3>solar.timezone<a class="headerlink" href="#module-hamcalc.navigation.solar.timezone" title="Permalink to this headline">¶</a></h3>
<p>hamcalc.navigation.solar.timezone &#8211;  North American Time Zones.</p>
<p>The sunrise and sunset times are in UTC.  Localtime offsets need to be applied,
based on local knowledge of timezones and Daylight Savings Time
to get to proper local times.</p>
<p>This includes many of the North American DST Rules for US and Canada.</p>
<p>From the Python documentation.</p>
<blockquote>
<div># This is a simplified (i.e., wrong for a few cases) set of rules for US
# DST start and end times. For a complete and up-to-date set of DST rules
# and timezone definitions, visit the Olson Database (or try pytz):
# <a class="reference external" href="http://www.twinsun.com/tz/tz-link.htm">http://www.twinsun.com/tz/tz-link.htm</a>
# <a class="reference external" href="http://sourceforge.net/projects/pytz/">http://sourceforge.net/projects/pytz/</a> (might not be up-to-date)</div></blockquote>
<p>See <a class="reference external" href="http://pytz.sourceforge.net">http://pytz.sourceforge.net</a> for a more complete list.</p>
<p>To convert from UTC to local time, the following kind of thing
is done.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">rise</span><span class="p">,</span> <span class="n">transit</span><span class="p">,</span> <span class="nb">set</span> <span class="o">=</span> <span class="n">solar</span><span class="o">.</span><span class="n">rise_transit_set</span><span class="p">(</span> <span class="mf">38.98</span><span class="p">,</span> <span class="mf">76.47</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">date</span><span class="p">()</span> <span class="p">)</span>
<span class="n">rise</span><span class="o">.</span><span class="n">astimezone</span><span class="p">(</span><span class="n">solar</span><span class="o">.</span><span class="n">Eastern</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</pre></div>
</div>
<p>This will display the rise time in North American Eastern Time.</p>
<p>Since the time zone data has some of the calendar rules back to 1966, the daylight savings time rules are applied as well as possible to historical
dates.</p>
<p>It&#8217;s quite easy to add timezones to cover other historical periods or
other places on earth.</p>
<p>This module defines the following timezones:</p>
<ul class="simple">
<li>utc, abbreviated &#8220;UTC&#8221;</li>
<li>Newfoundland = NATimeZone(-3.5, &#8220;Newfoundland&#8221;, &#8220;NST&#8221;, &#8220;NDT&#8221;)</li>
<li>Atlantic = NATimeZone(-4, &#8220;Atlantic&#8221;, &#8220;AST&#8221;, &#8220;ADT&#8221;)</li>
<li>Eastern  = NATimeZone(-5, &#8220;Eastern&#8221;,  &#8220;EST&#8221;, &#8220;EDT&#8221;)</li>
<li>Central  = NATimeZone(-6, &#8220;Central&#8221;,  &#8220;CST&#8221;, &#8220;CDT&#8221;)</li>
<li>Mountain = NATimeZone(-7, &#8220;Mountain&#8221;, &#8220;MST&#8221;, &#8220;MDT&#8221;)</li>
<li>Pacific  = NATimeZone(-8, &#8220;Pacific&#8221;,  &#8220;PST&#8221;, &#8220;PDT&#8221;)</li>
</ul>
<dl class="class">
<dt id="hamcalc.navigation.solar.timezone.FixedOffset">
<em class="property">class </em><tt class="descclassname">hamcalc.navigation.solar.timezone.</tt><tt class="descname">FixedOffset</tt><big>(</big><em>offset</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar/timezone.html#FixedOffset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.timezone.FixedOffset" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixed offset in minutes east from UTC.</p>
</dd></dl>

<dl class="class">
<dt id="hamcalc.navigation.solar.timezone.NATimeZone">
<em class="property">class </em><tt class="descclassname">hamcalc.navigation.solar.timezone.</tt><tt class="descname">NATimeZone</tt><big>(</big><em>hours</em>, <em>reprname</em>, <em>stdname</em>, <em>dstname</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar/timezone.html#NATimeZone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.timezone.NATimeZone" title="Permalink to this definition">¶</a></dt>
<dd><p>Superclass for North American timezone definitions.</p>
</dd></dl>

<dl class="class">
<dt id="hamcalc.navigation.solar.timezone.UTC">
<em class="property">class </em><tt class="descclassname">hamcalc.navigation.solar.timezone.</tt><tt class="descname">UTC</tt><a class="reference internal" href="../../_modules/hamcalc/navigation/solar/timezone.html#UTC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.timezone.UTC" title="Permalink to this definition">¶</a></dt>
<dd><p>UTC Timezone definition</p>
</dd></dl>

<dl class="function">
<dt id="hamcalc.navigation.solar.timezone.first_sunday_on_or_after">
<tt class="descclassname">hamcalc.navigation.solar.timezone.</tt><tt class="descname">first_sunday_on_or_after</tt><big>(</big><em>dt</em><big>)</big><a class="reference internal" href="../../_modules/hamcalc/navigation/solar/timezone.html#first_sunday_on_or_after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hamcalc.navigation.solar.timezone.first_sunday_on_or_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if a date is within the defined period.</p>
</dd></dl>

</div>
</div>
<div class="section" id="legacy-output">
<h2>Legacy Output<a class="headerlink" href="#legacy-output" title="Permalink to this headline">¶</a></h2>
<p>Input values include:</p>
<div class="highlight-python"><pre>Name of your location.......? ? Annapolis
ENTER: Your latitude  (XX.X degrees, minus if SOUTH).....? 38.9
ENTER: Your longitude (XX.X degrees, minus if EAST)......? 76.3
Press number in ( ) to indicate your Time Zone:
 (1) Atlantic
 (2) Eastern
 (3) Central
 (4) Mountain
 (5) Pacific
 (6) Other
ENTER: Year to be used in calculations (yyyy)............? 2013
ENTER: First date? (No. of Month, Day)...................? 5, 1
ENTER: Last date?  (No. of Month, Day)...................? 5, 20</pre>
</div>
<p>Output Format:</p>
<div class="highlight-python"><pre>           Hours     Sunrise (EST)        Sunset (EST)        Elev.&amp; Azimuth
           of        and Azimuth          and Azimuth          of Noon Sun
Date       Daylight   (degrees)            (degrees)            (degrees)</pre>
</div>
</div>
<div class="section" id="legacy-quirks">
<h2>Legacy Quirks<a class="headerlink" href="#legacy-quirks" title="Permalink to this headline">¶</a></h2>
<p>There&#8217;s a lot of clearly irrelevant <tt class="docutils literal"><span class="pre">GOSUB</span> <span class="pre">1600</span></tt> lines in this program. This is the middle of a routine from 1570 to 1640 to convert a date to a day number.</p>
<p>Variable <tt class="docutils literal"><span class="pre">MG</span></tt> is used in several equations, but never set.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="../../background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legacy.html">The HamCalc Legacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_architecture.html">Python Architecture</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Python Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../lib.html">lib &#8211; Supporting Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../radio/index.html">radio &#8211; Radio Design and Engineering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ham.html">ham &#8211; Ham Radio Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../electronics/index.html">electronics &#8211; General Electronics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../construction/index.html">construction &#8211; Construction and Mechanical</a></li>
<li class="toctree-l2"><a class="reference internal" href="../math/index.html">math &#8211; Math, Physics, Units Conversion</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">navigation &#8211; Navigation and Astronomy</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="daydusk.html">daydusk &#8211;  Daylight Dusk and Dawn Calculator</a></li>
<li class="toctree-l3"><a class="reference internal" href="gridsq.html">gridsq &#8211; Grid Square Locator (Maidenhead)</a></li>
<li class="toctree-l3"><a class="reference internal" href="latlong.html">latlong &#8211; Latitude/Longitude Data Base</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="">sunup &#8211; Sunrise, Sunset, Transit</a></li>
<li class="toctree-l3"><a class="reference internal" href="moontrac.html">moontrac &#8211; Moon Tracker</a></li>
<li class="toctree-l3"><a class="reference internal" href="pathfind.html">pathfind &#8211; Great Circle Paths &amp; Distances</a></li>
<li class="toctree-l3"><a class="reference internal" href="riseset.html">riseset &#8211; Sunrise/Sunset Calculator</a></li>
<li class="toctree-l3"><a class="reference internal" href="satorbit.html">satorbit &#8211; Satellite Orbit Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="timezone.html">timezone &#8211; Time Zones (UTC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="trunorth.html">trunorth &#8211; True North via the Sun</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../calendar/index.html">calendar &#8211; Calendrical Calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../audio_photo.html">audio_photo &#8211; Audio, Sound and Photography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software.html">software &#8211; Software Engineering, Programming and Computers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other/index.html">other &#8211; including Finance and Nutrition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdio.html">STDIO Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rest.html">RESTful Web Services Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli.html">Command-Line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gui.html">GUI Interface</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">The To Do List</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="latlong.html" title="latlong – Latitude/Longitude Data Base"
             >previous</a> |
          <a href="moontrac.html" title="moontrac – Moon Tracker"
             >next</a> |
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../../genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="../../_sources/python/navigation/sunup.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2013, S.Lott.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>